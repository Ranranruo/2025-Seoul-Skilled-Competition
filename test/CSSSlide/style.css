
/*
:root:has(#slide1:checked) { --cs: 0; }
:root:has(#slide2:checked) { --cs: 1; }
:root:has(#slide3:checked) { --cs: 2; } */
*{
    padding: 0;
    margin: 0;
    box-sizing: border-box;
    list-style: none;
    text-decoration: none;
    color: inherit;
}

.container {
    width: 500px;
    height: 300px;
    border: 1px solid black;
}
:root:has(#slide1:checked) .slider { animation: slide1 9s infinite; }
:root:has(#slide2:checked) .slider { animation: slide2 9s infinite; }
:root:has(#slide3:checked) .slider { animation: slide3 9s infinite; }

.slider {
    --cs: 0;
    display: flex;
    width: calc(500px * 3);
    height: 100%;
}

.slide {
    width: 500px;
    height: 100%;
}
.slide:nth-of-type(1) {
    background-color: red;
}
.slide:nth-of-type(2) {
    background-color: blue;
}
.slide:nth-of-type(3) {
    background-color: green;
}

@keyframes slide1 {
    0% { translate: calc(-500px * var(--cs)) 0; }
    5% { translate: 0 0; }   
    35% { translate: 0 0; --cs: 0; }
    38% { translate: -500px 0; }
    68% { translate: -500px 0; --cs: 1; }
    71% { translate: -1000px 0 }
    100% { translate: -1000px 0; --cs: 2; }
}

@keyframes slide2 {
    0% { translate: calc(-500px * var(--cs)) 0; }
    5% { translate: -500px 0; }   
    35% { translate: -500px 0; --cs: 1; }
    38% { translate: -1000px 0; }
    68% { translate: -1000px 0;
        & {--cs: 2; }
    }
    71% { translate: 0 0; }
    100% { translate: 0 0; --cs: 0; }
}

@keyframes slide3 {
    0% { translate: calc(-500px * var(--cs)) 0; }
    5% { translate: -1000px 0; }   
    35% { translate: -1000px 0; --cs: 2; }
    38% { translate: 0 0; }
    68% { translate: 0 0; --cs: 0; }
    71% { translate: -500px 0; }
    100% { translate: -500px 0; --cs: 1; }
}